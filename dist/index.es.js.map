{"version":3,"file":null,"sources":["../src/browser/browser.ser.js","../src/config/config.pro.js","../src/config/config.fil.js","../src/dict/dict.pro.js","../src/dict/dict.fil.js","../src/dict/dict.dir.js","../src/infinite/infinite-scroll.dir.js","../src/livehtml/live-html.dir.js","../src/livehtml/script.dir.js","../src/meta/meta.ser.js","../src/index.js"],"sourcesContent":["export default ($location, $rootScope, $window) => {\n    var previousPath = null;\n    var previousState = null;\n\n    var setPrevPath = function(path){\n        previousPath = path;\n    };\n\n    var setPrevState = function(state){\n        previousState = state;\n    };\n\n    var service = {\n        init: function() {\n            $rootScope.$on('$locationChangeSuccess', function(event, newurl, oldurl){\n                if(newurl !== oldurl){\n                    setPrevPath( oldurl.substr(oldurl.indexOf('#!') + 2) );\n                }\n            });\n            $rootScope.$on('$routeChangeSuccess', function(event, current, previous){\n                if(!!previous && !!previous.$$route){\n                    setPrevState( previous.$$route );\n                }\n            });\n        },\n\n        getPrevPath: function(){\n            return previousPath;\n        },\n\n        getPrevState: function(){\n            return previousState;\n        },\n\n        goBack: function(){\n            $location.url( this.getPrevPath() );\n        },\n\n        brutalRedirect: function(url){\n            $window.location.href = url;\n            // reload for Safari\n            if(navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1) {\n                $window.location.reload(true);\n            }\n        },\n\n        clickAndGo: function(event){\n            if(event.target.tagName === 'A'){\n                $location.url(event.target.hash.replace('#!', ''));\n            } else if(!!event.path){\n                for(var k = 0; k < event.path.length; k++){\n                    if(event.path[k].tagName === 'A'){\n                        $location.url(event.path[k].hash.replace('#!', ''));\n                        break;\n                    }\n                }\n            } else {\n                var parentElement = event.target.parentElement;\n                while(parentElement){\n                    if(parentElement.tagName === 'A'){\n                        $location.url(parentElement.hash.replace('#!', ''));\n                        break;\n                    } else {\n                        parentElement = parentElement.parentElement;\n                    }\n                }\n            }       \n        },\n\n        mediaMatcher: function(mediaquery, callback){\n            var isMatchMediaSupported = !!(window && window.matchMedia);\n            if(typeof mediaquery === 'string' && typeof callback === 'function' && isMatchMediaSupported ){\n                var mql = window.matchMedia(mediaquery);\n                callback(mql);\n                mql.addListener(callback); \n            }\n        },\n\n        getQueryParams: function(newUrl){\n            var url = newUrl ? newUrl : $location.absUrl();\n            var vars = {};\n            var hash;\n\n            if(url.indexOf('?') !== -1){\n                var querystring = url.slice(url.indexOf('?') + 1);\n                if(!!querystring){\n                    var hashes = querystring.split('&');\n                    for(var i = 0; i < hashes.length; i++){\n                        if(hashes[i].indexOf('=') !== -1) {\n                            hash = hashes[i].split('=');\n                            if(hash[1].indexOf('#') !== -1){\n                                hash[1] = hash[1].slice(0, hash[1].indexOf('#'));\n                            }\n                            \n                            vars[hash[0]] = window.decodeURIComponent(hash[1]);\n                        }\n                    }\n                }\n            }\n\n            return vars;\n        },\n\n        addQueryParams: function(newParams, newUrl){\n            var url = newUrl ? newUrl : $location.absUrl();\n            var newQueryString = '';\n\n            // reate encoded query string\n            for(var key in newParams){\n                newQueryString += encode(key) + '=' + encode(newParams[key]) + '&';\n            }\n            newQueryString = newQueryString.slice(0, -1);\n\n            var questionMarkIndex = url.indexOf('?');\n            if(questionMarkIndex === -1){\n                url += '?' + newQueryString;\n            } else {\n                url = url.substr(0, questionMarkIndex + 1) + newQueryString + '&' + url.substr(questionMarkIndex + 1);\n            }\n\n            return url;\n\n            function encode(string){\n                try {\n                    return encodeURIComponent(string);\n                } catch(e) {\n                    return string;\n                }\n            }\n        }\n    };\n\n    return service;\n};","import angular from 'angular';\n\nexport default () => {\n    var config = {}, upperCase = false;  \n\n    var getNestedKey = function(object, key) {\n        key = key.replace(/\\[(\\w+)\\]/g, '.$1');\n        key = key.replace(/^\\./, '');\n        var a = key.split('.');\n        for (var i = 0, n = a.length; i < n; ++i) {\n            var k = a[i];\n            if (k in object) {\n                object = object[k];\n            } else {\n                return undefined;\n            }\n        }\n        return object;\n    };\n    \n    var myProvider = {\n        \n        init: function(options){\n            if(options && options.config){\n                config = options.config;\n                upperCase = options.upperCase || false;\n            }\n        },\n\n        get: function(value){\n            var falseValues = ['', 0, '0', null, 'null', false, 'false'];\n            value = upperCase ? value.toUpperCase() : value;\n            var confValue = value.indexOf('.') !== -1 ? getNestedKey(config, value) : config[value];\n            if(falseValues.indexOf(confValue) !== -1){\n                return false;\n            } else {\n                return confValue;\n            }\n        },\n\n        list: function(){\n            return config;\n        }\n        \n    };\n\n    angular.extend(this, myProvider);\n    this.$get = [function() {\n        return this;\n    }];\n};","export default (BarneyConfig) => {\n    return function(input) {\n        return BarneyConfig.get(input);\n    };\n};","import angular from 'angular';\n\nexport default () => {\n    var parameters = {\n        showKey: false\n    };\n\n    var myProvider = {\n\n        init: function(options){\n            if(options){\n                parameters = options;\n            }\n        },\n\n        get: function(key){\n            // convert key to upper case\n            key = key.toUpperCase();\n\n            if(parameters.showKey === 'all'){\n\n                // 'all case': \n                // valued keys : show key name\n                // void keys : show key name\n                return '[[' + key + ']]';\n\n            } else if(parameters.showKey === 'missing'){\n\n                // 'missing' case:\n                // valued keys : show value of key\n                // void keys : show key name\n                if(!!parameters.dict[key]) {\n                    return parameters.dict[key];\n                } else {\n                    return '[[' + key + ']]';\n                }\n\n            } else {\n\n                // standard case\n                // valued keys : show value of key\n                // void keys : show void string\n                if(!!parameters.dict[key]) {\n                    return parameters.dict[key];\n                } else {\n                    return '';\n                }\n\n            }\n        },\n\n        list: function(){\n            return parameters.dict;\n        }\n\n    };\n\n    angular.extend(this, myProvider);\n    this.$get = [function() {\n        return this;\n    }];\n};","export default (BarneyDict) => {\n    return function(key) {\n        return BarneyDict.get(key);\n    };\n};","export default ($sce, BarneyDict) => {\n    return {\n        restrict: 'E',\n        template: '<span ng-bind-html=\"value\"></span>',\n        replace: true,\n        scope: {\n            key: '@'\n        },\n        link: function($scope){\n\n            $scope.value = $sce.trustAsHtml(BarneyDict.get($scope.key));\n            \n        }\n    };\n};","import angular from 'angular';\n\nexport default ($window, $timeout) => {\n    return {\n        restrict: 'A',\n        scope: {\n            enable: '=infiniteEnable',\n            callback: '&infiniteCallback',\n            offset: '@infiniteOffset'\n        },\n        link: function($scope, $element) {\n\n            // offset is used to activate infinite scroll before \n            // the end of the window has been reached, \n            // if exist it takes the specified value, else\n            // it's equal to 0;\n            if(!$scope.offset){ \n                $scope.offset = 0;\n            }\n\n            var check = function(){\n                var windowHeight = 'innerHeight' in window ? window.innerHeight\n                    : document.documentElement.offsetHeight;\n                var body = document.body, html = document.documentElement;\n                var docHeight = Math.max(body.scrollHeight,\n                    body.offsetHeight, html.clientHeight,\n                    html.scrollHeight, html.offsetHeight);\n                var windowBottom = windowHeight + window.pageYOffset + parseInt($scope.offset, 10);\n                var elementHeight = $element[0].offsetHeight;\n                \n                if(elementHeight < windowBottom || windowBottom >= docHeight){\n                    $scope.enable = false;\n\n                    $scope.callback.call()(function(){\n                        $timeout(function(){\n                            $scope.enable = true;\n                        }, 1);\n                    });\n                }\n            };\n            \n            var checkIfEnabled = function(){\n                if($scope.enable){\n                    check();\n                }\n            };\n            \n            $scope.$watch('enable', function(){\n                checkIfEnabled();\n            });\n\n            angular.element($window).bind('scroll', checkIfEnabled);\n\n            $scope.$on('$destroy', function(){\n                angular.element($window).unbind('scroll', checkIfEnabled);\n            });\n\n        }\n    };\n};","export default ($compile) => {\n    return {\n        restrict: 'A',\n        scope: {\n            liveHtml: '='\n        },\n        controller: function($scope, $element) {\n\n            $scope.$watch('liveHtml', function(liveHtml) {\n                if(liveHtml){\n                    $element.html(liveHtml);\n                    $compile($element.contents())($scope.$parent);\n                }\n            });\n\n            this.liveScript = function(oldElem){\n                var newEl = document.createElement('script');\n                for (k = 0; k < oldElem.attributes.length; k++) {\n                    newEl.setAttribute(oldElem.attributes[k].name, oldElem.attributes[k].value);\n                }\n                oldElem.parentElement.replaceChild(newEl, oldElem);\n            };\n\n            this.liveJs = function(scriptElem){\n                Function(scriptElem.innerHTML)();    // eslint-disable-line no-new-func\n            };\n\n        }\n    };\n};","export default () => {\n    return {\n        restrict: 'E',\n        scope: false,\n        require: '?^^liveHtml',\n        link: function($scope, $element, $attrs, liveHtmlCtrl) {\n\n            // if <script> is child of live-html directive\n            if(liveHtmlCtrl){\n\n                // if <script src=\"...\"></script>\n                if($element[0].src){\n                    liveHtmlCtrl.liveScript($element[0]);\n                }\n                \n                // if <script>...</script>\n                if($element[0].innerHTML){\n                    liveHtmlCtrl.liveJs($element[0]);\n                }\n\n            }\n\n        }\n    };\n};","export default ($rootScope) => {\n\n    $rootScope.meta = {};\n    $rootScope.defaultMeta = {};\n\n    var service = {\n\n        init: function(metatags){\n            for(var key in metatags){\n                $rootScope.defaultMeta[key] = metatags[key];\n                $rootScope.meta[key] = metatags[key];\n            }\n\n            // revert to default keys\n            var _this = this;\n            $rootScope.$on('$routeChangeStart', function(){\n                _this.revert();\n            });\n        },\n\n        get: function(key){\n            if(!!$rootScope.meta[key]){\n                return $rootScope.meta[key];\n            } else {\n                return '';\n            }\n        },\n\n        set: function(metatags){\n            for(var key in metatags){\n                $rootScope.meta[key] = metatags[key];\n            }\n        },\n\n        list: function(){\n            return $rootScope.meta;\n        },\n        \n        defaults: function(){\n            return $rootScope.defaultMeta;\n        },\n\n        revert: function(){\n            for(var key in $rootScope.defaultMeta){\n                $rootScope.meta[key] = $rootScope.defaultMeta[key];\n            }\n        }\n\n    };\n\n    return service;\n};","import angular from 'angular';\n\nimport BarneyBrowser from './browser/browser.ser';\nimport BarneyConfig from './config/config.pro';\nimport BarneyConfigFilter from './config/config.fil';\nimport BarneyDict from './dict/dict.pro';\nimport BarneyDictFilter from './dict/dict.fil';\nimport BarneyDictDirective from './dict/dict.dir';\nimport BarneyInfiniteScrollDirective from './infinite/infinite-scroll.dir';\nimport BarneyLiveHtmlDirective from './livehtml/live-html.dir';\nimport BarneyLiveHtmlScriptDirective from './livehtml/script.dir';\nimport BarneyMeta from './meta/meta.ser';\n\nconst appName = 'barney';\n\nangular.module(appName)\n    .factory('BarneyBrowser', BarneyBrowser)\n\n    .provider('BarneyConfig', BarneyConfig)\n    .filter('config', BarneyConfigFilter)\n\n    .provider('BarneyDict', BarneyDict)\n    .filter('dict', BarneyDictFilter)\n    .directive('dict', BarneyDictDirective)\n\n    .directive('infiniteScroll', BarneyInfiniteScrollDirective)\n\n    .directive('liveHtml', BarneyLiveHtmlDirective)\n    .directive('script', BarneyLiveHtmlScriptDirective)\n\n    .factory('BarneyMeta', BarneyMeta)  \n;"],"names":["$location","$rootScope","$window","previousPath","previousState","setPrevPath","path","setPrevState","state","service","$on","event","newurl","oldurl","substr","indexOf","current","previous","$$route","url","getPrevPath","location","href","navigator","userAgent","reload","target","tagName","hash","replace","k","length","parentElement","mediaquery","callback","isMatchMediaSupported","window","matchMedia","mql","addListener","newUrl","absUrl","vars","querystring","slice","hashes","split","i","decodeURIComponent","newParams","newQueryString","key","encode","questionMarkIndex","string","encodeURIComponent","e","config","upperCase","getNestedKey","object","a","n","undefined","myProvider","options","value","falseValues","toUpperCase","confValue","extend","$get","BarneyConfig","input","get","parameters","showKey","dict","BarneyDict","$sce","$scope","trustAsHtml","$timeout","$element","offset","check","windowHeight","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","parseInt","elementHeight","enable","call","checkIfEnabled","$watch","element","bind","unbind","$compile","liveHtml","contents","$parent","liveScript","oldElem","newEl","createElement","attributes","setAttribute","name","replaceChild","liveJs","scriptElem","innerHTML","$attrs","liveHtmlCtrl","src","meta","defaultMeta","metatags","_this","revert","appName","angular","module","factory","BarneyBrowser","provider","filter","BarneyConfigFilter","BarneyDictFilter","directive","BarneyDictDirective","BarneyInfiniteScrollDirective","BarneyLiveHtmlDirective","BarneyLiveHtmlScriptDirective","BarneyMeta"],"mappings":"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"}